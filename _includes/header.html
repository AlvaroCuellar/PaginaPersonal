<header id="banner" class="scrollto clearfix">
  <div id="header" class="nav-collapse">

    <div class="row clearfix">
      <div class="col-1">

        <!-- Logo & Site Title -->
        <div id="logo">
          <a href="#banner" id="navigation-logo">{{ site.data.personal.name }}</a>
        </div>

        <!-- Main Navigation Menu -->
  <nav id="nav-main">
          <ul>
            {% assign lang = page.lang | default: 'es' %}
            {% for item in site.data.home.menu %}
              {% if item.show != false %}
                <li>
                  {% if item.section_id %}
                    {% assign link_url = '#' | append: item.section_id %}
                  {% elsif item.url[lang] %}
                    {% assign link_url = item.url[lang] %}
                  {% else %}
                    {% assign link_url = item.url %}
                  {% endif %}
                  
                  {% if item.button or item.key == 'cv' %}
                    <a href="{{ link_url }}" class="menu-button"><span>{% if item.key == 'cv' %}CV{% else %}{% assign section_data = site.data.home[item.key] %}{% if section_data.section_title[lang] %}{{ section_data.section_title[lang] }}{% else %}{{ site.data.i18n[lang][item.key] | default: item.key }}{% endif %}{% endif %}</span></a>
                  {% else %}
                    {% assign section_data = site.data.home[item.key] %}
                    <a href="{{ link_url }}">{% if section_data.section_title[lang] %}{{ section_data.section_title[lang] }}{% else %}{{ site.data.i18n[lang][item.key] | default: item.key }}{% endif %}</a>
                  {% endif %}
                </li>
              {% endif %}
            {% endfor %}
            <li>
              {% if lang == 'es' %}
                {% assign en_url = page.url | replace: '/es/', '/en/' %}
                {% assign es_url = page.url %}
              {% else %}
                {% assign en_url = page.url %}
                {% assign es_url = page.url | replace: '/en/', '/es/' %}
              {% endif %}
              
              <div class="lang-switcher" data-active="{{ lang }}">
                <a href="{{ es_url | relative_url }}" class="lang-option{% if lang == 'es' %} active{% endif %}" data-lang="es">ES</a>
                <a href="{{ en_url | relative_url }}" class="lang-option{% if lang == 'en' %} active{% endif %}" data-lang="en">EN</a>
                <div class="lang-slider"></div>
              </div>
            </li>
          </ul>
        </nav>
        <!-- End Main Navigation -->

        <!-- Mobile Navigation Toggle -->
        <div id="nav-trigger"><span></span></div>
        <nav id="nav-mobile"></nav>

      </div>
    </div>
  </div>

  <!-- ═══════════════════════════════════════
       BANNER CONTENT & HERO SECTION
       ═══════════════════════════════════════ -->
  <div id="banner-content" class="row clearfix">
    <div class="col-2-3">
      <div class="section-heading">
        <h1>{{ site.data.personal.name }}</h1>
        <h2>
          <b>{{ site.data.personal.position[lang] }}</b><br>
          {{ site.data.personal.affiliation }}<br><br>
          <a id="banner-email" href="mailto:{{ site.data.personal.email }}">{{ site.data.personal.email }}</a><br><br>
          {% for interest in site.data.personal.interests[lang] %}{{ interest }}{% if forloop.last == false %}. {% endif %}{% endfor %}<br><br>
        </h2>
        <br>

        <!-- Social Media Links -->
        <div class="banner-social-icons">
          {% include components/social-icons.html %}
        </div>
        <!-- End Social Media Links -->
      </div>
    </div>
    <div class="col-3">
      <div class="banner-profile-photo">
        <img src="{{ site.data.personal.photo }}" alt="profile" class="profile-img">
      </div>
    </div>
  </div>
  <!-- End Banner Content -->

  <!-- Hitos Block - Siempre pegado al fondo -->
  <div class="banner-achievements-wrapper">
    <div class="banner-achievements">
      {% if site.data.personal.hitos[lang] %}
        <!-- Botón toggle (solo visible en tablet/móvil) -->
        <button class="achievements-toggle" onclick="toggleAchievements()" aria-label="{{ site.data.i18n[lang].toggle_achievements | default: 'Ver logros' }}">
          <span class="toggle-text">{{ site.data.i18n[lang].view_achievements | default: "Ver logros" }}</span>
          <i class="fa fa-chevron-down"></i>
        </button>
        
        <!-- Bloque de hitos (colapsado por defecto en móvil/tablet) -->
        <div class="achievements-block collapsed">
          {% for hito in site.data.personal.hitos[lang] %}
            <span class="achievement-item">{{ hito }}</span>{% unless forloop.last %}<span class="achievement-separator">·</span>{% endunless %}
          {% endfor %}
        </div>
      {% endif %}
    </div>
  </div>
  <!-- End Hitos Block -->
</header>
